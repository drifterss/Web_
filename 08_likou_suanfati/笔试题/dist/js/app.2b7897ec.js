(function(){"use strict";var t={7820:function(t,e,i){var o=i(6369),r=function(){var t=this,e=t._self._c;return e("div",[e("Banner")],1)},s=[],n=function(){var t=this,e=t._self._c;return e("div",[e("h2",{staticClass:"h2Title"},[t._v("五子棋")]),e("h3",[t._v(t._s(t.victory))]),e("div",{staticClass:"Fbuttons"},[e("input",{staticClass:"restart",attrs:{type:"button",value:"重新开始"},on:{click:function(e){return t.restartInit()}}}),e("input",{staticClass:"regret",attrs:{type:"button",value:"悔棋"},on:{click:function(e){return t.regret()}}}),e("input",{staticClass:"undo",attrs:{type:"button",value:"撤销悔棋"},on:{click:function(e){return t.undo()}}}),e("input",{staticClass:"toggle",attrs:{type:"button",value:t.toggle?"切换dom":"切换canvas"},on:{click:function(e){return t.toggleF()}}})]),e("div",{staticClass:"main"},[e("canvas",{directives:[{name:"show",rawName:"v-show",value:t.toggle,expression:"toggle"}],ref:"canvas",attrs:{id:"myCanvas",width:"480",height:"480"}},[t._v("当前浏览器不支持Canvas")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.toggle,expression:"!toggle"}],ref:"chessBox",attrs:{id:"chess"}})])])},h=[],l=(i(560),{name:"BannerCompoment",data(){return{pieceMapArr:[],pieceColor:["black","white"],step:0,checkMode:[[1,0],[0,1],[1,1],[1,-1]],flag:!1,victory:"",history:[],historyVal:[],stepHistory:0,domPiece:[],toggle:!0}},mounted(){const t=document.getElementById("myCanvas");if(t.getContext){console.log("当前浏览器支持Canvas",this.toggle),this.drawpieceBoard();const t=this.$refs.canvas;t.addEventListener("click",(t=>{if(this.flag)return void alert("游戏结束,请重新开始~");if(t.offsetX<25||t.offsetX>450||t.offsetY<25||t.offsetY>450)return;let e=30*Math.floor((t.offsetX+15)/30),i=30*Math.floor((t.offsetY+15)/30);if(console.log("this.pieceMapArr 数组",this.pieceMapArr),0==this.pieceMapArr[e/30-1][i/30-1]){console.log("落下棋子",e,i,this.pieceColor[this.step%2]),this.drawPiece(e,i,this.pieceColor[this.step%2]),this.pieceMapArr[e/30-1][i/30-1]=this.pieceColor[this.step%2],this.history.length=this.step,this.history.push({dx:e,dy:i,color:this.pieceColor[this.step%2]}),this.historyVal.push({dx:e,dy:i,color:this.pieceColor[this.step%2]}),this.stepHistory++,console.log("this.history",this.history);for(var o=0;o<4;o++)this.checkWin(e/30-1,i/30-1,this.pieceColor[this.step%2],this.checkMode[o]);this.step++}else alert("不能落在有棋子的地方！")}))}else alert("当前浏览器不支持Canvas."),this.toggle=!1,this.drawpieceBoardDom()},methods:{toggleF(){this.toggle=!this.toggle,this.toggle,this.restartInit()},pieceArr(){for(let t=0;t<15;t++){this.pieceMapArr[t]=[];for(let e=0;e<15;e++)this.pieceMapArr[t][e]=0}},restartInit(){if(this.toggle)this.repaint(),this.drawpieceBoard(),this.flag=!1,this.step=0,this.stepHistory=0,this.historyVal=[],this.history=[];else{var t=document.querySelector("#box01");if(null!=t){t.parentNode.removeChild(t);let e=document.querySelector("#box02");e.parentNode.removeChild(e)}this.drawpieceBoardDom(),this.flag=!1,this.step=0,this.stepHistory=0,this.historyVal=[],this.history=[]}},drawpieceBoard(){this.pieceArr();let t=this.$refs.canvas,e=t.getContext("2d");e.strokeStyle="#666";for(let i=0;i<15;i++)e.beginPath(),e.moveTo(30*(i+1),30),e.lineTo(30*(i+1),t.height-30),e.closePath(),e.stroke(),e.beginPath(),e.moveTo(30,30*(i+1)),e.lineTo(t.width-30,30*(i+1)),e.closePath(),e.stroke()},drawPiece(t,e,i){let o=this.$refs.canvas,r=o.getContext("2d");r.beginPath(),r.arc(t,e,15,0,2*Math.PI,!1),r.closePath(),r.fillStyle=i,r.fill()},checkWin(t,e,i,o){let r=1;for(let s=1;s<5;s++)if(this.pieceMapArr[t+s*o[0]]){if(this.pieceMapArr[t+s*o[0]][e+s*o[1]]!=i)break;r++}for(let s=1;s<5;s++)if(this.pieceMapArr[t-s*o[0]]){if(this.pieceMapArr[t-s*o[0]][e-s*o[1]]!=i)break;r++}r>=5&&(this.victory="black"==i?"黑子棋方胜利！":"白子棋方胜利！",this.flag=!0)},repaint(){let t=this.$refs.canvas,e=t.getContext("2d");e.fillStyle="bisque",e.fillRect(0,0,t.width,t.height),e.beginPath(),e.closePath()},regret(){this.toggle?this.history.length&&!this.flag?(this.history.pop(),this.repaint(),this.drawpieceBoard(),this.history.forEach((t=>{this.drawPiece(t.dx,t.dy,t.color),this.pieceMapArr[t.dx/30-1][t.dy/30-1]=t.color})),this.step--):alert("已经不能悔棋了~"):this.history.length&&!this.flag?(this.history.pop(),console.log("-----dom------this.history",this.history),this.pieceArr(),this.domPiece.forEach((t=>{t.forEach((t=>{t.style.backgroundColor=""}))})),this.history.forEach((t=>{this.domPiece[t.m][t.n].style.backgroundColor=t.color,this.pieceMapArr[t.m][t.n]=t.color})),this.step--):alert("已经不能悔棋了~")},undo(){this.toggle?this.historyVal.length>this.history.length&&!this.flag?(this.history.push(this.historyVal[this.step]),this.repaint(),this.drawpieceBoard(),this.history.forEach((t=>{this.drawPiece(t.dx,t.dy,t.color),this.pieceMapArr[t.dx/30-1][t.dy/30-1]=t.color})),this.step++):alert("不能撤销悔棋了~"):this.historyVal.length>this.history.length&&!this.flag?(this.history.push(this.historyVal[this.step]),console.log("-----dom------this.history",this.history),this.domPiece.forEach((t=>{t.forEach((t=>{t.style.backgroundColor=""}))})),this.history.forEach((t=>{this.domPiece[t.m][t.n].style.backgroundColor=t.color,this.pieceMapArr[t.m][t.n]=t.color})),this.step++):alert("不能撤销悔棋了~")},drawpieceBoardDom(){let t=this;t.pieceArr();const e=document.querySelector("#chess"),i=document.createElement("div");i.setAttribute("id","box01"),e.appendChild(i);const o=document.querySelector("#box01"),r=document.createElement("div");r.setAttribute("id","box02"),e.appendChild(r);let s=new Array;for(let h=0;h<14;h++){s[h]=new Array;for(let t=0;t<14;t++)s[h][t]=document.createElement("div"),s[h][t].setAttribute("class","squre"),r.appendChild(s[h][t])}let n=this.domPiece;for(let h=0;h<15;h++){n[h]=new Array;for(let t=0;t<15;t++)n[h][t]=document.createElement("div"),n[h][t].setAttribute("class","qz"),o.appendChild(n[h][t])}for(let h=0;h<15;h++)for(let e=0;e<15;e++)n[h][e].onclick=function(){if(t.flag)alert("游戏结束,请重新开始~");else if(0==t.pieceMapArr[h][e]){("qz"==this.className&&t.step%2==0&&""==this.style.backgroundColor||"qz"==this.className&&t.step%2!=0&&""==this.style.backgroundColor)&&(this.style.backgroundColor=t.pieceColor[t.step%2],t.pieceMapArr[h][e]=t.pieceColor[t.step%2],t.history.length=t.step,t.history.push({m:h,n:e,color:t.pieceColor[t.step%2]}),t.historyVal.push({m:h,n:e,color:t.pieceColor[t.step%2]}),t.stepHistory++,console.log("this.history",t.history));for(var i=0;i<4;i++)t.checkWin(h,e,t.pieceColor[t.step%2],t.checkMode[i]);t.step++}else alert("不能落在有棋子的地方！")}}}}),a=l,c=i(1001),p=(0,c.Z)(a,n,h,!1,null,null,null),u=p.exports,d={name:"App",data(){},components:{Banner:u}},f=d,g=(0,c.Z)(f,r,s,!1,null,null,null),y=g.exports;o.ZP.config.productionTip=!1,new o.ZP({render:t=>t(y)}).$mount("#app")}},e={};function i(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,i),s.exports}i.m=t,function(){var t=[];i.O=function(e,o,r,s){if(!o){var n=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],s=t[c][2];for(var h=!0,l=0;l<o.length;l++)(!1&s||n>=s)&&Object.keys(i.O).every((function(t){return i.O[t](o[l])}))?o.splice(l--,1):(h=!1,s<n&&(n=s));if(h){t.splice(c--,1);var a=r();void 0!==a&&(e=a)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,r,s]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var o in e)i.o(e,o)&&!i.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,s,n=o[0],h=o[1],l=o[2],a=0;if(n.some((function(e){return 0!==t[e]}))){for(r in h)i.o(h,r)&&(i.m[r]=h[r]);if(l)var c=l(i)}for(e&&e(o);a<n.length;a++)s=n[a],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},o=self["webpackChunkmy_vue_test"]=self["webpackChunkmy_vue_test"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=i.O(void 0,[998],(function(){return i(7820)}));o=i.O(o)})();
//# sourceMappingURL=app.2b7897ec.js.map